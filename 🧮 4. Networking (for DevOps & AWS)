üßÆ 4. Networking (for DevOps & AWS)
1Ô∏è‚É£ Explain the OSI model layers and which ones DevOps engineers deal with most.

The OSI (Open Systems Interconnection) model has 7 layers, each defining a level of network communication.

Layer	Name	Description	DevOps Relevance
7	Application	End-user layer (HTTP, SSH, DNS, SMTP)	Monitoring web services, API endpoints
6	Presentation	Data formatting, encryption, compression (SSL/TLS)	Certificates, HTTPS setup
5	Session	Manages connections and sessions (RPC, NetBIOS)	Less direct, handled by protocols
4	Transport	Ensures reliable data transfer (TCP, UDP)	Debugging ports, latency, firewalls
3	Network	Routing and addressing (IP, ICMP)	Subnets, VPC routing, ping, traceroute
2	Data Link	Frames, MAC addressing (Ethernet, ARP)	Rarely managed directly in cloud
1	Physical	Hardware, cables, switches	Abstracted in cloud environments

‚úÖ Most Relevant for DevOps:
Layers 3, 4, and 7

3: IP routing, subnets, NAT, VPCs

4: Port management, security groups, load balancers

7: HTTP(S) troubleshooting, DNS, API calls

2Ô∏è‚É£ How would you troubleshoot when a service is not reachable from another host?

Scenario: App server can‚Äôt reach DB or API endpoint.

‚úÖ Systematic Troubleshooting Flow:

Check Network Connectivity

ping <destination_ip>
traceroute <destination_ip>


If no response ‚Üí check route table or NACLs.

Check Port Accessibility

telnet <host> <port>
nc -zv <host> <port>


Confirms whether the port is open (e.g., 22, 443, 5432).

Security Group (SG)

Inbound rule: allow from source host/VPC on specific port.

Outbound rule: allow destination.

Network ACLs

Ensure subnet-level rules permit bidirectional traffic.

Route Tables

Confirm route exists to destination subnet, NAT, or Internet Gateway.

DNS Resolution

nslookup example.com
dig example.com


Verify domain resolves to correct IP.

Service-Level Check

Service may be down even if port open:

systemctl status nginx
curl -v http://localhost:8080


‚úÖ Pro Tip:
End with the 5-layer mindset:

‚ÄúI start at network reachability (ping), move up to ports (telnet), then firewall (SG/NACL), DNS, and finally app/service logs.‚Äù

3Ô∏è‚É£ What‚Äôs the difference between public and private subnets?
Type	Description	Typical Use	Internet Access
Public Subnet	Connected to an Internet Gateway (IGW)	Load balancers, bastion hosts, web servers	Direct (via IGW)
Private Subnet	Connected to NAT Gateway / NAT Instance	Databases, internal APIs, back-end services	Indirect (via NAT)

Example Architecture:

VPC
 ‚îú‚îÄ‚îÄ Public Subnet (ALB, Bastion)
 ‚îÇ    ‚îî‚îÄ‚îÄ Route ‚Üí Internet Gateway
 ‚îî‚îÄ‚îÄ Private Subnet (EC2, RDS)
      ‚îî‚îÄ‚îÄ Route ‚Üí NAT Gateway ‚Üí Internet


‚úÖ Security Practice:
Keep critical resources (DBs, caches) in private subnets with no inbound internet access.

4Ô∏è‚É£ How does DNS resolution work in AWS?

DNS = Domain Name System ‚Üí translates domain names ‚Üí IP addresses

AWS DNS Flow (using Route 53 + VPC):

DNS Query:
User requests app.example.com.

Route 53 Hosted Zone:
Resolves domain to an A Record or CNAME ‚Üí IP or ELB DNS.

Resolver:
VPC has built-in DNS resolver (e.g., AmazonProvidedDNS at VPC_CIDR + 2).

Local Resolution:
EC2 instance queries DNS (e.g., /etc/resolv.conf ‚Üí points to AWS DNS server).

Response:
IP address returned ‚Üí connection established.

‚úÖ Example:

Public DNS (for internet-facing ALB)

Private DNS (for internal services in VPC)

Route 53 Alias records (ELB ‚Üí domain)

Private Hosted Zones (for internal name resolution)

Troubleshooting Commands:

dig app.example.com
nslookup internal.service.local


Pro Tip: Mention TTL (Time-to-Live) caching and alias records (AWS-specific DNS optimization).

5Ô∏è‚É£ What are VPC, Subnets, Route Tables, Security Groups, and NACLs?

This is a core AWS networking question ‚Äî know these 5 components cold.

Component	Description	Analogy	Key Points
VPC (Virtual Private Cloud)	Isolated virtual network in AWS	Your private data center	CIDR range (e.g., 10.0.0.0/16)
Subnet	Logical segment of a VPC (public/private)	Building inside your office	Each in one Availability Zone
Route Table	Defines traffic routing rules	GPS map	Default route to IGW or NAT
Security Group (SG)	Instance-level firewall	Door access control	Stateful (allows return traffic)
Network ACL (NACL)	Subnet-level firewall	Security gate	Stateless (need both inbound/outbound rules)

Example Relationship:

VPC
 ‚îú‚îÄ‚îÄ Subnet-A (public) ‚Üí Route ‚Üí IGW
 ‚îÇ     ‚îî‚îÄ‚îÄ EC2 (SG: allow 80/443)
 ‚îî‚îÄ‚îÄ Subnet-B (private) ‚Üí Route ‚Üí NAT
       ‚îî‚îÄ‚îÄ RDS (SG: allow 3306 from App SG)


‚úÖ Pro Tip:

Security Groups are stateful (if inbound allowed, response automatically allowed),
while NACLs are stateless (need explicit rules both ways).

6Ô∏è‚É£ Explain how load balancing works (Application Load Balancer vs Network Load Balancer).

Load balancer: Distributes traffic across multiple targets (EC2, containers, Lambda, etc.)

Feature	Application Load Balancer (ALB)	Network Load Balancer (NLB)
Layer	7 (HTTP/HTTPS)	4 (TCP/UDP)
Routing	Based on content ‚Äî path, host, headers	Based on IP and port
Use Case	Web applications, microservices	High-performance, low-latency apps
Health Checks	Application-level (HTTP 200 OK)	Network-level (TCP)
Protocol Support	HTTP, HTTPS, WebSocket	TCP, UDP, TLS
Integration	WAF, ECS, Lambda targets	PrivateLink, IoT, game servers
Pricing	Slightly higher (more features)	Cheaper for raw performance

Example Use:

ALB:

/api/* ‚Üí backend service A

/static/* ‚Üí S3 or CloudFront

NLB:

Routes TCP traffic (e.g., DB proxy, custom protocol)

‚úÖ Pro Tip:
In DevOps automation, mention:

‚ÄúI‚Äôve configured ALB target groups via Terraform and used health checks for auto-deregistering unhealthy instances, improving uptime during deployments.‚Äù

‚úÖ Summary Cheat Table

Topic	Core Concept	AWS Example
OSI Model	L3‚ÄìL4‚ÄìL7 most relevant	VPC routing, SGs, HTTP services
Troubleshooting	Ping ‚Üí Port ‚Üí SG ‚Üí NACL ‚Üí Route	EC2 ‚Üî RDS connectivity
Public vs Private Subnet	IGW vs NAT	Web-tier vs DB-tier
DNS Resolution	Route 53 + VPC Resolver	dig app.example.com
VPC Components	VPC, Subnet, Route Table, SG, NACL	Core AWS networking
Load Balancers	ALB (L7), NLB (L4)	API routing vs raw TCP
